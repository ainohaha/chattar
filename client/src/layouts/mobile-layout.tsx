import { ReactNode } from "react";
import { cn } from "@/lib/utils";

interface MobileLayoutProps {
  children: ReactNode;
  className?: string;
  gradient?: "primary" | "secondary" | "none";
  withStatusBar?: boolean;
}

export default function MobileLayout({
  children,
  className,
  gradient = "primary",
  withStatusBar = true,
}: MobileLayoutProps) {
  const gradientClasses = {
    primary: "bg-gradient-to-br from-[#4ECDC4] to-[#56CCF2]",
    secondary: "bg-gradient-to-br from-[#6FCF97] to-[#56CCF2]",
    none: "",
  };

  return (
    <div
      className={cn(
        "min-h-screen w-full max-w-[1080px] max-h-[1920px] mx-auto overflow-hidden flex flex-col relative",
        gradientClasses[gradient],
        className
      )}
      style={{ maxWidth: '1080px', maxHeight: '1920px' }}
    >
      {withStatusBar && <StatusBar />}
      {children}
    </div>
  );
}

function StatusBar() {
  // Get current time in format 9:41
  const time = new Date().toLocaleTimeString("en-US", {
    hour: "numeric",
    minute: "2-digit",
    hour12: false,
  });

  return (
    <div className="absolute top-0 left-0 right-0 flex justify-between p-3 text-white text-xs z-10">
      <span>{time}</span>
      <div className="flex items-center space-x-1">
        <SignalIcon className="h-3 w-3" />
        <WifiIcon className="h-3 w-3" />
        <BatteryIcon className="h-3 w-3" />
      </div>
    </div>
  );
}

function SignalIcon({ className }: { className?: string }) {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M16.5 2.5C16.5 2.10218 16.658 1.72064 16.9393 1.43934C17.2206 1.15804 17.6022 1 18 1C18.3978 1 18.7794 1.15804 19.0607 1.43934C19.342 1.72064 19.5 2.10218 19.5 2.5V21.5C19.5 21.8978 19.342 22.2794 19.0607 22.5607C18.7794 22.842 18.3978 23 18 23C17.6022 23 17.2206 22.842 16.9393 22.5607C16.658 22.2794 16.5 21.8978 16.5 21.5V2.5ZM11.5 6.5C11.5 6.10218 11.658 5.72064 11.9393 5.43934C12.2206 5.15804 12.6022 5 13 5C13.3978 5 13.7794 5.15804 14.0607 5.43934C14.342 5.72064 14.5 6.10218 14.5 6.5V21.5C14.5 21.8978 14.342 22.2794 14.0607 22.5607C13.7794 22.842 13.3978 23 13 23C12.6022 23 12.2206 22.842 11.9393 22.5607C11.658 22.2794 11.5 21.8978 11.5 21.5V6.5ZM6.5 10.5C6.5 10.1022 6.65804 9.72064 6.93934 9.43934C7.22064 9.15804 7.60218 9 8 9C8.39782 9 8.77936 9.15804 9.06066 9.43934C9.34196 9.72064 9.5 10.1022 9.5 10.5V21.5C9.5 21.8978 9.34196 22.2794 9.06066 22.5607C8.77936 22.842 8.39782 23 8 23C7.60218 23 7.22064 22.842 6.93934 22.5607C6.65804 22.2794 6.5 21.8978 6.5 21.5V10.5ZM1.5 14.5C1.5 14.1022 1.65804 13.7206 1.93934 13.4393C2.22064 13.158 2.60218 13 3 13C3.39782 13 3.77936 13.158 4.06066 13.4393C4.34196 13.7206 4.5 14.1022 4.5 14.5V21.5C4.5 21.8978 4.34196 22.2794 4.06066 22.5607C3.77936 22.842 3.39782 23 3 23C2.60218 23 2.22064 22.842 1.93934 22.5607C1.65804 22.2794 1.5 21.8978 1.5 21.5V14.5Z" />
    </svg>
  );
}

function WifiIcon({ className }: { className?: string }) {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M12 19.5C12.2652 19.5 12.5196 19.6054 12.7071 19.7929C12.8946 19.9804 13 20.2348 13 20.5C13 20.7652 12.8946 21.0196 12.7071 21.2071C12.5196 21.3946 12.2652 21.5 12 21.5C11.7348 21.5 11.4804 21.3946 11.2929 21.2071C11.1054 21.0196 11 20.7652 11 20.5C11 20.2348 11.1054 19.9804 11.2929 19.7929C11.4804 19.6054 11.7348 19.5 12 19.5ZM12 15.5C12.7957 15.5001 13.5587 15.7935 14.1429 16.3215C14.727 16.8495 15.0868 17.5809 15.15 18.373C15.1533 18.4521 15.1398 18.5311 15.11 18.6045C15.0802 18.678 15.0347 18.744 14.9763 18.7985C14.918 18.853 14.8487 18.8946 14.7733 18.92C14.698 18.9453 14.6186 18.9539 14.5395 18.9455C14.4604 18.9371 14.3839 18.9119 14.3152 18.8718C14.2466 18.8317 14.1872 18.7777 14.1409 18.713C14.0946 18.6483 14.0627 18.5745 14.0474 18.4968C14.0321 18.419 14.0338 18.3392 14.0524 18.262C14.1 17.8287 13.9804 17.3938 13.72 17.06C13.4596 16.7261 13.0832 16.5245 12.6728 16.5075C12.2625 16.4905 11.8674 16.6596 11.5784 16.9685C11.2893 17.2774 11.1365 17.697 11.15 18.125C11.1508 18.2077 11.1348 18.2896 11.1029 18.3654C11.0709 18.4413 11.0238 18.5095 10.964 18.5657C10.9042 18.622 10.8331 18.6649 10.7554 18.6919C10.6778 18.7189 10.5954 18.7294 10.5129 18.7229C10.4304 18.7164 10.3504 18.6929 10.2785 18.654C10.2066 18.6152 10.1444 18.5618 10.0957 18.4972C10.0469 18.4326 10.0127 18.3585 9.99502 18.279C9.97733 18.1995 9.97663 18.1169 9.99296 18.0371C10.0651 17.356 10.3823 16.7295 10.8833 16.2834C11.3843 15.8373 12.0334 15.6066 12.7 15.6353L12.58 15.62L12.434 15.6125L12.2815 15.6128L12.1368 15.62L12 15.5ZM12 11.5C14.4097 11.5041 16.719 12.4015 18.3983 14.0045C20.0775 15.6075 20.9998 17.8664 21 20.303C21.0016 20.3851 20.9864 20.4666 20.9551 20.5424C20.9239 20.6181 20.8774 20.6863 20.8185 20.7425C20.7597 20.7987 20.6898 20.8417 20.6132 20.8688C20.5365 20.8959 20.4551 20.9064 20.373 20.9296C20.2909 20.8982 20.2135 20.8515 20.1448 20.7918C20.0762 20.7321 20.0175 20.6604 19.9717 20.5803C19.9259 20.5001 19.8938 20.4128 19.877 20.3218C19.8601 20.2309 19.859 20.1379 19.874 20.0466C19.873 17.9723 19.0871 15.983 17.682 14.5257C16.2769 13.0684 14.3136 12.2122 12.24 12.1371C10.167 12.1122 8.16602 12.8689 6.68879 14.283C5.21155 15.6971 4.36926 17.6546 4.31101 19.7265C4.30944 19.8934 4.24276 20.0524 4.12541 20.169C4.00807 20.2856 3.84873 20.3511 3.68201 20.3515C3.51528 20.3518 3.35566 20.287 3.23783 20.1708C3.12001 20.0547 3.05262 19.896 3.05001 19.729C3.04996 17.292 4.00831 14.9557 5.74491 13.324C7.4815 11.6923 9.82983 10.9133 12.265 11.0045L12.1075 11L12 11.5ZM12 7.5C15.5095 7.51303 18.8743 8.89236 21.3553 11.3735C23.8362 13.8547 25.215 17.2195 25.2275 20.729C25.2299 20.8958 25.1632 21.0548 25.0458 21.1714C24.9285 21.288 24.7691 21.3535 24.6025 21.3535C24.4358 21.3535 24.2765 21.288 24.1591 21.1714C24.0418 21.0548 23.9751 20.8958 23.9775 20.729C23.9662 17.5585 22.7187 14.5177 20.5091 12.3081C18.2995 10.0985 15.2586 8.85097 12.0882 8.83971C8.91772 8.85097 5.87685 10.0985 3.66725 12.3081C1.45765 14.5177 0.210172 17.5585 0.198761 20.729C0.201208 20.8958 0.134487 21.0548 0.0171328 21.1714C-0.100221 21.288 -0.259573 21.3535 -0.426249 21.3535C-0.592926 21.3535 -0.752277 21.288 -0.869631 21.1714C-0.986984 21.0548 -1.05371 20.8958 -1.05125 20.729C-1.03873 17.2195 0.33979 13.8547 2.82076 11.3735C5.30173 8.89236 8.66651 7.51303 12.176 7.5H12Z" />
    </svg>
  );
}

function BatteryIcon({ className }: { className?: string }) {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M7 7H17V17H7V7Z" />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M2 8C2 6.34315 3.34315 5 5 5H19C20.6569 5 22 6.34315 22 8V16C22 17.6569 20.6569 19 19 19H5C3.34315 19 2 17.6569 2 16V8ZM5 7C4.44772 7 4 7.44772 4 8V16C4 16.5523 4.44772 17 5 17H19C19.5523 17 20 16.5523 20 16V8C20 7.44772 19.5523 7 19 7H5Z"
      />
      <path d="M23 10H21V14H23V10Z" />
    </svg>
  );
}
